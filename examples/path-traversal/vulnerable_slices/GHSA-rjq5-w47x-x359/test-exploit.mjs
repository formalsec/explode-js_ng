import {Hono} from 'hono'
import { serveStatic } from "../../packages/GHSA-rjq5-w47x-x359/hono-node-server-1.4.0/package/dist/serve-static.mjs"

// These imports help resolve the current directory when using ES modules
import path from 'node:path'
import { fileURLToPath } from 'node:url'

// Resolve the current directory (needed for static files)
const __filename = fileURLToPath(import.meta.url)
const __dirname = path.dirname(__filename)

// Create an instance of Hono
const app = new Hono()

// Use the static middleware. This route configuration maps all requests to `/static/*` to files in the public folder.
app.use('/static/*', serveStatic({ root: path.join(__dirname, 'public') }))

// Define other routes (optional)
app.get('/', (c) => c.text('Hello from Hono!'))

// Use Hono's Node server adapter to listen on a port (for example, port 3000)
import { serve } from '@hono/node-server'
const port = 3000
serve(app.fetch, { port })

// Log a message so you know the server is running
console.log(`Server is running on http://localhost:${port}`)
